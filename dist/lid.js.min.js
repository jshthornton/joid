/*! lid.js 14-07-2013 */
!function(){function a(){var a={_count:0,_hash:{},_lastKey:null,gen:function(b){return"string"!=typeof b&&(b=""),b+""+a._count++},_genKey:function(){return"_lidk"+a._count++},_register:function(b,c){a._hash[b]=c},link:function(b,c){var d,e=b;if("boolean"==typeof b)b===!0?(d=a.gen(c),e=a._genKey(),a._register(e,d)):(e=a._lastKey,d=a._hash[e]);else{if("string"!=typeof b)throw new Error("Boolean or String expected as link key");e=b,b in a._hash?d=a._hash[b]:(d=a.gen(c),a._register(b,d))}return a._lastKey=e,d},flush:function(){a._hash={},a._lastKey=null}};return a}var b=window;"function"==typeof define&&define.amd?define([],a):b.lid=a()}();