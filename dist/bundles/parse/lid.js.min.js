/*! lid.js 08-07-2013 */
!function(a){function b(){var a={_count:0,_hash:{},_lastKey:null,gen:function(b){return"string"!=typeof b&&(b=""),b+""+a._count++},_genKey:function(){return"_lidk"+a._count++},_register:function(b,c){a._hash[b]=c},link:function(b,c){var d,e=b;if("boolean"==typeof b)b===!0?(d=a.gen(c),e=a._genKey(),a._register(e,d)):(e=a._lastKey,d=a._hash[e]);else{if("string"!=typeof b)throw new Error("Boolean or String expected as link key");e=b,b in a._hash?d=a._hash[b]:(d=a.gen(c),a._register(b,d))}return a._lastKey=e,d},flush:function(){a._hash={},a._lastKey=null}};return a}"function"==typeof define&&define.amd?define([],b):a.lid=b()}(window,document,void 0),!function(a,b,c){function d(a){var b=a.parse=function(d,e){if("string"!=typeof d)throw new Error("lid parsing only operates on strings");e=e||{};var f={},g=b.settings;for(var h in g)f[h]=e[h]!==c?e[h]:g[h];f.preFlush===!0&&a.flush();var i=d.replace(f.genReg,function(c,d){return a.gen.apply(a,b._getParams(d))}).replace(f.linkReg,function(c,d){return a.link.apply(a,b._getParams(d))});return f.postFlush===!0&&a.flush(),i};b._getParams=function(a){var b="return ["+a+"]";return new Function(b)()},b.settings={preFlush:!0,postFlush:!0,linkReg:/lid\(([\s\S]+?)\)/gi,genReg:/gid\(([\s\S]*?)\)/gi}}"function"==typeof define&&define.amd?define(["../lid"],d):d(a.lid)}(window,document,void 0);